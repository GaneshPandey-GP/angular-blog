<h1 mat-dialog-title>Create a blog!</h1>

<form class="create-blog-form" [formGroup]="updateBlogForm" (ngSubmit)="submit()">
<mat-dialog-content>
  <mat-form-field class="full-width">
    <mat-label color="warn">Choose a Category (required)</mat-label>
    <mat-select formControlName="category" required (selectionChange)="getSubCategory($event)">
      <mat-option label="--select category --">--select category --</mat-option>
      <mat-option *ngFor="let category of categories" [value]="category">{{category.name}}</mat-option>
  </mat-select>
  <mat-error *ngIf="selectFormControl.hasError('required')">
    Category is required!
  </mat-error>
  <mat-hint>Select a Category</mat-hint>
  </mat-form-field>
  <mat-form-field class="full-width">
    <mat-label color="warn">Choose a sub category (required)</mat-label>
    <mat-select formControlName="subCategory" required >
      <mat-option label="--select category --">--select sub category --</mat-option>
      <mat-option *ngFor="let subCategory of subCategories" [value]="subCategory">{{subCategory.name}}</mat-option>
  </mat-select>
  <mat-error *ngIf="selectFormControl.hasError('required')">
    Sub category is required!
  </mat-error>
  <mat-hint>Select a sub category</mat-hint>
  </mat-form-field>
  <mat-form-field class="full-width">
    <mat-label>Title of the blog</mat-label>
    <textarea matInput placeholder="Enter the title of the blog..." formControlName="title" required></textarea>
  </mat-form-field>
  <mat-form-field class="full-width">
    <mat-label>Short Description</mat-label>
    <textarea matInput placeholder="Enter the short Description of the blog..." formControlName="desc" required></textarea>
  </mat-form-field>
  <mat-label>Thumbnail of the blog</mat-label>
  <br/>
  <input
    #thumbnail
    type="file"
    (change) ="handleImgChange(thumbnail)"
    style="margin: 0.3rem;"
  />
  <img *ngIf="thumbnail"
    matPrefix
    src={{view(fetchedThumbnail)}}
    alt="image"
    style="height: 40%; width:40%;"
  />
  <textarea  formControlName="content" [froalaEditor]>Start writing your blog!</textarea >
</mat-dialog-content>
<div mat-dialog-actions align="end">
  <button mat-raised-button mat-dialog-close color="warn">CLOSE</button>
  <button mat-raised-button mat-dialog-close color="accent" (click)="submit()">SAVE</button>
</div>
</form>
